<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS 请求</title>
</head>
<body>
    <ul id="repos"></ul>
</body>
<script type="module">
//     document.addEventListener("DOMContentLoaded",()=>{
//         fetch("https://api.github.com/users/shunwuyu/repos")
//         .then(res=>res.json())
//         .then(data=>{
//             document.querySelector('#repos').innerHTML = 
//             data.map(item=>`<li>${item.name}</li>`).join('')
//         })
//    })
      // 同步代码一样
      // async await
      // await promise 实例
      // new Promise Promise{} fetch本质 返回promise 实例
      // pending 状态 等待
      const result = await fetch("https://api.github.com/users/shunwuyu/repos");
      // resolve()  fullfilled 完成了
      // reject() rejecte d失败了
      const data = await result.json();
      document.querySelector('#repos').innerHTML = data.map(item=>`<li>${item.name}</li>`).join('')
</script>
</html>