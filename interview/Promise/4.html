<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>手写promise.all</title>
</head>
<body>

    <script>
    Promise.Myall = function(promises)
    {
        return new Promise((resolve, reject) => {
            const res = [];
            let count = 0;
            promises.forEach((item,i)=>{
                item.then(data=>{
                    res[i] = data;
                    count++;
                    if(count === promises.length)
                    {
                        resolve(res);
                    }
                }).catch(err=>{
                    reject(err);
                })
            })
        })
    }
    </script>
    

</body>
</html>