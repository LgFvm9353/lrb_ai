# map weakMap

-es6 新增的数据结构 作为企业级大型语言需要的内置数据结构

- key 可以是对象

- map() 键值对  键可以是对象
- weakMap() 键值对  键只能是对象


## 垃圾回收
- 垃圾回收也是一套程序，也是语言底层的关键机制
- 内存的动态分配 由操作系统管理
- 引用计数
  - 每个对象都有一个引用计数器，引用次数为0时，对象被回收
  - 引用次数增加：对象被赋值给一个变量，或者作为参数传递给一个函数
  - 引用次数减少：变量被赋值为null，或者函数参数被销毁
  - 循环引用：两个对象相互引用，引用次数都不为0，导致无法回收

- key = null,map = null 手动释放内存
- global.gc() 手动触发垃圾回收
   node --expose-gc 

- map ,set 需要手动去考虑内存的开销
   weakMap,weakSet 弱引用自动实现
   global.gc() 